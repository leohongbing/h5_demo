<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<script type="text/javascript">
  // var p = new Promise((resolve, reject)=> {
  //   console.log('p')
  //   resolve()
  // })
  // p.then(()=> {
  //   console.log('p1')
  // }).then(() => {
  //   console.log('p2')
  // }).then(()=> {
  //   console.log('p3')
  // }).then(()=> {
  //   console.log('p4')
  // })
  // async function f() {
  //   await f1(); // 同步执行，异步返回数据
  //   console.log('f1 res')
  //   return Promise.reject('err')
  // }
  // f().catch(e => {console.log(e)})
  // function f1() {
  //   console.log('f1')
  // }

  // new Promise((resolve, reject) => {
  //   console.log(1)
  //   resolve()
  // })
  //   .then(() => {
  //     console.log(2)
  //     return new Promise((resolve, reject) => {
  //       console.log(3)
  //       setTimeout(() => {
  //         reject();
  //       }, 3 * 1000);
  //       resolve()
  //     })
  //       .then(() => {
  //         console.log(4)
  //         return new Promise((resolve, reject) => {
  //           console.log(5)
  //           resolve();
  //         })
  //           .then(() => {
  //             console.log(7)
  //           })
  //           .then(() => {
  //             console.log(9)
  //           })
  //       })
  //       .then(() => {
  //         console.log(8)
  //       })
  //   })
  //   .then(() => {
  //     console.log(6)
  //   })
  //   .then(() => {
  //     console.log(10)
  //   })

  //
  // console.log('start')
  // new Promise(resolve => {
  //   console.log('Step 1')
  //   resolve(100)
  // })
  //   .then(value => {
  //     Promise.resolve()
  //       .then(value => {
  //         console.log('Step 1-2')
  //         return value;
  //       })
  //       .then(value => {
  //         console.log('Step 1-3')
  //         return value;
  //       })
  //   })
  //   .then(value => {
  //     console.log('Step 2')
  //   })

  // Promise.resolve()
  //   .then(() => {
  //     console.log(1)
  //     Promise.resolve()
  //       .then(() => {
  //         console.log(2)
  //       })
  //       .then(() => {
  //         console.log(4)
  //       })
  //       .then(() => {
  //         console.log(6)
  //       })
  //       .then(() => {
  //         console.log(8)
  //       })
  //       .then(() => {
  //         console.log(9)
  //       })
  //   })
  //   .then(() => {
  //     console.log(3)
  //   })
  //   .then(() => {
  //     console.log(5)
  //   })
  //   .then(() => {
  //     console.log(7)
  //   })

  async function f() {
    var res = await async2()
    console.log(res);
    console.log(456)
  }
  function async2() {
    console.log('async2');
    return new Promise((resolve) => {
      // 宏3
      setTimeout(() => { // 宏4
        resolve(2)
      }, 1 * 3000);
    })
  }
  f()
</script>
</body>
</html>
